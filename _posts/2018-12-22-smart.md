---
layout: post
title: "나를 부탁해!"
date: 2018-12-22 12:00:00
tags: smart sensor
author: Jason Koo
---
<amp-img src="{{ site.baseurl }}assets/images/ddegologo.png" width="688" height="241" layout="responsive" alt="" class="mb3"></amp-img>


<amp-img src="{{ site.baseurl }}assets/images/rhino6.png" width="656" height="400" layout="responsive" alt="" class="mb3"></amp-img>


# 개요
대학교에 들어와서 처음 접한 PBL이라는 수업이 있었습니다. 이는 Problem-Based Learning의 줄임말로, 어떤 주제에 대해 학생이 직접 문제를 해결해가면서 배우는 방식의 수업이었습니다. 일정한 과정만을 따라가며 그대로 따라하는 방식에 익숙해져 있는 저는 이러한 수업 방식이 생소하게 느껴졌지만 문제를 직접 해결해 나가면서 보람을 느낄 수 있었습니다.


# 첫 번째 목표: 중간 시연
1학년 2학기에 수강하게 된 오픈소스라는 PBL 강의에서는, 매장에서 음원을 재생할 때 사용하는 최소기능제품 개발 프로젝트를 맡게 되었습니다.
먼저 처음 프로젝트에서 주어진 목표는 다음과 같았습니다.

> 당신은 대형 음악서비스 포털인 ㈜KT 뮤직의 전략기획실 신기술개발팀장이다. 최근 대법원 판결(2013 다 219616)에 따라 디지털 음원을 매장에서 재생할 때, 공연보상금을 징수하는 기준이 3,000m2 이상에서 모든 면적으로 확대되었다. 이에 따라 본사는 기존 매장음원서비스인 “샵엔지니” 서비스를 확장하여 보다 다양한 시장을 확보하고자 2017 년 9 월 6 일 전략기획회의를 진행하였다. 회의 결과 별도의 음악 재생용 PC 마련이 곤란한 소형 점포를 위해 저렴한 독립형 뮤직 셋톱박스(standalone music set-top box)를 제공하는 “플러그엔 지니” 서비스를 새롭게 기획하기로 하였다. 이에 신규 서비스의 가능성 타진을 위해 신기술개발팀에서는 오픈소스 SW 와 Raspberry Pi 나 비글본 같은 간단한 오픈소스개발보드를 활용하여 최소기능제품(MVP, Minimum Viable Product)을 개발하기로 하였다. 당신의 팀은 9 월 27 일까지 독립형 뮤직 셋톱박스에 대한 MVP 를 개발하여 시연해야 한다.
> MVP 는 오픈소스에 기반한 간단한 네트워크 스토리지 서버와 뮤직 플레이어 클라이언트로 구성된다. 클라이언트는 마지막 재생채널을 기억하고 있다가 전원 연결(플러그인) 시 자동으로 유/무선의 네트워크상에서 서버의 해당채널 음원을 스트리밍하여 3.5mm 오디오 단자로 출력하는 기본 기능을 지원해야 한다. 또한, 현재 재생 중인 채널 및 곡에 대한 간단한 정보를 LED 혹은 LCD 디스플레이 상에 표시하여야 하며, 채널전환 버튼을 통해 손쉽게 음악채널들을 전환할 수 있어야 한다.

따라서 저희 팀은 라즈베리파이에 운영체제를 설치한 뒤, 기본적인 LCD 디스플레이와 브레드보드를 연결하고
파이 안에 설치되어 있는 파이썬 언어로 필요로 하는 기능들을 구현하고자 했습니다. 그리고 중간 시연까지 위에 설명되어 있는 기능들 중 아주 기본적인 기능이 수행 가능한 Minimal Viable Product를 제작하였습니다.

### 중간 시연 동영상
[![중간 시연 동영상](http://img.youtube.com/vi/gOvtueTeT9M/0.jpg)](https://youtu.be/gOvtueTeT9M?t=0s)

중간 시연의 동영상은 [여기](https://youtu.be/gOvtueTeT9M)서 확인 가능합니다.


# 두 번째 목표: 최종 시연

> 성공적인 시연 결과, 당신의 팀이 만든 솔루션을 활용하여 본격적인 신규 매장음원서비스를 기획하기로 결정되었으며, 당신을 본부장급 권한을 가진 “플러그엔 지니” 태스크 포스 리더로 임명하여, 신규 사 업 승인을 위한 최종 데모를 11월 15일 임원회의에서 진행하기로 하였다. 이에 기획팀, 설계팀 및 디자인팀을 이끌고, 나선형 모델 (spiral model)에 입각하여 요구사항 명세서, 설계 명세서 등의 적절 한 산출물과 함께 구체적인 서비스 기획 및 설계를 진행한 후, 이 시 스템에 사용될 케이스와 주변기기에 대한 적절한 디자인을 개발, 3D 프린터로 rapid prototype를 제작하여 성공적인 신제품 데모를 수행하라.


### * 최종 시연에 사용된 Python 코드 자료 및 설명

```c

#pragma config(Sensor, S3,ts,             sensorEV3_Touch)
#pragma config(Motor,  motorB,          wm,            tmotorEV3_Large, PIDControl, encoder)
#pragma config(Motor,  motorC,          fm,            tmotorEV3_Large, PIDControl, encoder)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

int n = 0;

void water(){

		sleep(1);
		setMotorSpeed(wm, 30);
		sleep(500);
		setMotorSpeed(wm, 0);
		sleep(2000);
		setMotorSpeed(wm, -30);
		sleep(500);
		setMotorSpeed(wm, 0);
}

void food(){
    
		setMotorSpeed(fm,-15);
		sleep(2000);
		setMotorSpeed(fm, 0);
		sleep(4000);
		setMotorSpeed(fm,15);
		sleep(1000);

}

task main()
{
	while(1){
		while(getTouchValue(ts) == 0){
			sleep(500);
			displayBigTextLine(2,"n = %d",n);
			n++;
			if(n == 10){
				food();
				water();
				n = 0;
			}
		}
		while(getTouchValue(ts) == 1){
			water();
		}
	}
}

```


### 최종 시연 동영상
[![최종 시연 동영상](http://img.youtube.com/vi/sGXLG-uNgV4/0.jpg)](https://youtu.be/sGXLG-uNgV4?t=0s)

최종 시연의 동영상은 [여기](https://youtu.be/sGXLG-uNgV4)서 확인 가능합니다.

### 최종 시연에 사용된 PPT 발표 자료
[이 곳](https://github.com/retrowavve/retrowavve.github.io/blob/master/assets/images/ddego_presentation.pptx)에서 다운로드가 가능합니다.

### 팀 활동일지
팀 활동일지는 [여기](https://github.com/retrowavve/retrowavve.github.io/blob/master/assets/images/oss_teamreport.zip)에서 다운로드가 가능합니다.
# 느낀 점 및 배운 점

  처음 프로젝트를 시작할 때만 해도 과연 내가 이 문제를 끝까지 해결할 수 있을까 하는 의문이 들었다. 1학기 때 배운 파이썬 지식이 부족해서 코딩하는 데에 애도 많이 먹었고 시간도 많이 들었다. 팀원들의 시간표, 사는 곳도 모두 달라서 따로 짬을 내서 만나는 것도 어려웠다. 하지만 이렇게 프로젝트를 끝까지 마치고 나니 수업시간 외에도 내가 무언가 스스로 만들어 볼 수 있다는 자신감이 생겼다. 또 문제가 되는 부분을 직접 구글링을 통해 해결책을 찾다 보니, 어떤 상황에서 어떻게 대처해야 하는지 더 기억 속에 잘 남았다. 
  다음 번에 비슷한 프로젝트를 진행할 때는 서버에서 음악을 다운로드 받아서 재생하는 방식이 아닌, 서버에서 직접 스트리밍은 어떻게 하는지 구현해보고 싶다. 또 현재 기기에 달려있는 흑백 LCD가 아닌, 더 많은 정보를 표현할 수 있는 컬러 LCD를 장착해서 기기를 시연해보고 싶다.
  일단 조장으로 선택된 상황에서 조장으로서 팀원들에게 역할을 잘 분배하고 팀을 잘 이끌어 나갔어야 하는데 리더십이 부족했던 점이 아쉽고, 다음 번엔 이번 경험을 밑거름 삼아 더욱 발전하도록 노력해야겠다. 

